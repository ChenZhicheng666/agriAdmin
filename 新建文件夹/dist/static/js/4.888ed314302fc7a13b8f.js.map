{"version":3,"sources":["webpack:///src/views/person/userList.vue","webpack:///./src/views/person/userList.vue?4eab","webpack:///./src/views/person/userList.vue"],"names":["axios_default","a","defaults","withCredentials","userList","data","validatePhonenum","rule","value","callback","length","Error","sels","rules","username","required","message","password","type","phonenum","trigger","validator","notType","firstId0","companyList","positionList","positionId","label","typeList","test","selVisible","dialogVisible","form","tableData","tableHeader","mounted","_this","this","post","status","pageSize","pageNum","then","res","i","list","newValue","enterpriseId","id","enterpriseName","name","push","console","log","js_cookie_default","get","relationships","j","Object","limit","姓名","手机","企业","角色","position","userId","catch","methods","selsChange","delAll","_this2","Sel","$confirm","confirmButtonText","cancelButtonText","$message","error","setDisabled","company","role","deleteFileOrDirectory","map","item","join","renderAddRow","_this3","md5","crypto_browserify_default","createHash","update","PSW","digest","param","enterprise","deleteAlert","index","rows","_this4","center","deleteRow","splice","handleFilePreview","f","handleFileChange","fileList","readerData","raw","file","_this5","reader","FileReader","onload","e","binary","target","result","bytes","Uint8Array","byteLength","String","fromCharCode","workbook","xlsx_default","read","firstSheetName","SheetNames","worksheet","Sheets","header","getHeaderRow","results","utils","sheet_to_json","generateDate","readAsArrayBuffer","_ref","fixdata","o","l","w","apply","slice","sheet","headers","range","decode_range","C","R","s","r","c","cell","encode_cell","hdr","t","format_cell","person_userList","render","_vm","_h","$createElement","_c","_self","attrs","on","click","$event","_v","staticClass","action","multiple","accept","on-change","on-preview","auto-upload","ref","staticStyle","width","margin-top","header-cell-style","background","color","border","highlight-current-row","selection-change","_l","key","prop","fixed","scopedSlots","_u","fn","scope","size","nativeOn","preventDefault","$index","title","visible","update:visible","model","label-width","$$v","$set","expression","filterable","allow-create","placeholder","change","disabled","clearable","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.888ed314302fc7a13b8f.js","sourcesContent":["<template>\n<div>\n  <el-row >\n    <el-button type=\"success\" @click=\"dialogVisible = true\">添加</el-button>\n    <el-upload\n      action=\"\"\n      class=\"inline\"\n      :multiple=\"false\"\n      accept=\".xlsx, .xls\"\n      :on-change=\"handleFileChange\"\n      :on-preview=\"handleFilePreview\"\n      :auto-upload=\"false\"\n    >\n      <el-button type=\"success\">批量添加</el-button>\n    </el-upload>\n    <el-button @click=\"delAll\" type=\"danger\">批量删除</el-button>\n<!--    <el-button @click=\"deleteFileOrDirectory(sels)\" :disabled=\"this.sels.length === 0\">批量删除</el-button>-->\n  </el-row>\n  <el-table :data=\"tableData\"\n            :header-cell-style=\"{background:'#1ca291',color:'#ffffff'}\"\n            border highlight-current-row style=\"width: 100%;margin-top:20px;\"\n            ref=\"multipleTable\" @selection-change=\"selsChange\"\n  >\n<!--    <el-table-column-->\n<!--      width=\"55\"-->\n<!--      fixed=\"left\">-->\n<!--      <template slot-scope=\"scope\">-->\n<!--        <el-checkbox v-model=\"checked\">备选项</el-checkbox>-->\n<!--      </template>-->\n<!--    </el-table-column>-->\n    <el-table-column  type=\"selection\" width=\"55\"></el-table-column>\n\n    <el-table-column v-for='item of tableHeader' :prop=\"item\" :label=\"item\" :key='item.id'>\n    </el-table-column>\n    <el-table-column\n      fixed=\"right\"\n      label=\"操作\"\n      width=\"120\">\n      <template slot-scope=\"scope\">\n        <el-button\n          @click.native.prevent=\"deleteAlert(scope.$index, tableData)\"\n          type=\"danger\"\n          size=\"small\">\n          移除\n        </el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n  <el-dialog title=\"添加用户\" :visible.sync=\"dialogVisible\" width=\"30%\">\n<!--    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">-->\n<!--      <el-form-item label=\"\">-->\n<!--        <el-radio-group v-model=\"form.resource\">-->\n<!--          <el-radio label=\"员工\"></el-radio>-->\n<!--          <el-radio label=\"经理\"></el-radio>-->\n<!--          <el-radio label=\"负责人\"></el-radio>-->\n<!--        </el-radio-group>-->\n<!--      </el-form-item>-->\n<!--    </el-form>-->\n    <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"50px\">\n      <el-form-item label=\"姓名\" prop=\"username\">\n        <el-input style=\"width:230px\" v-model=\"form.username\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input style=\"width:230px\" type=\"password\" v-model=\"form.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机\" prop=\"phonenum\">\n        <el-input style=\"width:230px\" v-model=\"form.phonenum\"></el-input>\n      </el-form-item>\n      <el-form-item\n        label=\"类型\"\n        prop=\"type\"\n      >\n        <el-select\n          @change=\"setDisabled\"\n          v-model=\"form.type\"\n          filterable\n          allow-create\n          placeholder=\"请选择标签\">\n          <el-option\n            v-for=\"item in typeList\"\n            :key=\"item.type\"\n            :label=\"item.label\"\n            :value=\"item.type\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n        <el-form-item\n          label=\"企业\">\n          <el-select\n            :disabled=\"notType\"\n            v-model=\"form.company\"\n            filterable\n            allow-create\n            placeholder=\"请选择标签\">\n            <el-option\n              v-for=\"item in companyList\"\n              :key=\"item.enterpriseId\"\n              :label=\"item.enterpriseName\"\n              :value=\"item.enterpriseId\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item\n          label=\" 角色\">\n          <el-select\n            v-model=\"form.role\"\n            :disabled=\"notType\"\n            clearable\n            filterable\n            allow-create\n            placeholder=\"请选择标签\">\n            <el-option\n              v-for=\"item in positionList\"\n              :key=\"item.positionId\"\n              :label=\"item.label\"\n              :value=\"item.positionId\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible=false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"renderAddRow\">确 定</el-button>\n      </span>\n  </el-dialog>\n</div>\n</template>\n<style>\n  .inline{\n    display:inline-block;\n  }\n  .el-upload-list{\n    display:none;\n  }\n</style>\n<script>\n  import Cookies from 'js-cookie'\n  import axios from 'axios';\n  axios.defaults.withCredentials = true\n  import {limitCheckout} from '../../api/limit'\n  import XLSX from 'xlsx'\n  import crypto from 'crypto'\n  export default {\n    data() {\n      const validatePhonenum = (rule, value, callback) => {\n        if (value.length < 11) {\n          callback(new Error('请输入正确的手机号码'))\n        } else {\n          callback()\n        }\n      }\n\n\n      return {\n        sels: [],//选中显示的值\n        rules:{\n          username:[\n            { required: true, message: '输入不能为空'}\n          ],\n          password:[\n            { required: true, message: '输入不能为空'}\n          ],\n          type:[\n            { required: true, message: '输入不能为空'}\n          ],\n          phonenum: [\n            { required: true, message: '输入不能为空'},\n            { required: true, trigger: 'blur' ,validator: validatePhonenum},\n            { required: true, trigger: 'change',validator: validatePhonenum }\n            //{ min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n          ]\n        },\n        notType:true,\n        firstId0:[],\n        companyList:[],\n        positionList:[{positionId:0,label:'员工'},{positionId:1,label:'经理'},{positionId:2,label:'负责人'}],\n        typeList:[\n          {type:0,label:'管理部门'},\n          {type:1,label:'消费者'},\n          {type:2,label:'农户'},\n          {type:3,label:'企业'},\n          {type:4,label:'科研机构'},\n          {type:5,label:'行业协会'},\n          {type:6,label:'其他产业链'}\n          ],\n        test:false,\n        selVisible: false,\n        dialogVisible: false,\n        form: {},\n        tableData: [],\n        tableHeader: ['姓名', '手机', '企业', '角色'],\n      }\n    },\n    mounted:function(){\n      axios.post('http://120.79.185.173:8080/agriculture/backend/enterprise/enterpriseGet.do',\n        {status:1,pageSize:10000,pageNum:1},\n        {withCredentials: true}).then(res => {\n        this.companyList=[];\n          for(var i=0;i<res.data.data.list.length;i++){\n              var newValue={\n                enterpriseId:res.data.data.list[i].id,\n                enterpriseName:res.data.data.list[i].name\n              }\n              this.companyList.push(newValue)\n          }\n\n        }, res => {\n        console.log(\"error\");\n      });\n      var Table=this.tableData;\n      if(Cookies.get('limit')==='1'){\n        //产业园权限\n        var limitNum = 0;\n        this.tableData=[]\n        axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n          console.log(res.data);\n          for(var i=0;i<res.data.data.list.length;i++){\n            // console.log(1111)\n            if(res.data.data.list[i].relationships.length>0){\n              // console.log(2222)\n              for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                // console.log(3333)\n                // console.log(res.data.data.list[i].relationships[j].enterpriseName)\n                if (limitCheckout(res.data.data.list[i].relationships[j].enterpriseName)) {\n                  var newValue = {\n                    姓名: res.data.data.list[i].username,\n                    手机: res.data.data.list[i].phonenum,\n                    企业: res.data.data.list[i].relationships[j].enterpriseName,\n                    角色: res.data.data.list[i].relationships[j].position,\n                    userId:res.data.data.list[i].userId\n                  }\n                  console.log(newValue)\n                  this.tableData.push(newValue)\n                }\n              }\n            }\n          }\n        }).catch(() => {\n          console.log(\"error\");\n        });\n      }else{\n        var Table=this.tableData;\n        axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n          console.log(res.data);\n          for(var i=0;i<res.data.data.list.length;i++){\n            if(res.data.data.list[i].relationships.length>0){\n              for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                var newValue={\n                  姓名:res.data.data.list[i].username,\n                  手机:res.data.data.list[i].phonenum,\n                  企业:res.data.data.list[i].relationships[j].enterpriseName,\n                  角色:res.data.data.list[i].relationships[j].position,\n                  userId:res.data.data.list[i].userId\n                }\n                this.tableData.push(newValue)\n              }\n            } else{\n              var newValue={\n                姓名:res.data.data.list[i].username,\n                手机:res.data.data.list[i].phonenum,\n                企业:'个人种植户',\n                userId:res.data.data.list[i].userId\n              }\n              this.tableData.push(newValue)\n            }\n          }\n        }).catch(() => {\n          console.log(\"error\");\n        });\n      }\n    },\n    methods: {\n      // update(){\n      //   var that=this;\n      //   axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageNum:10})\n      //     .then((res) => {\n      //       this.tableData=[]\n      //       console.log(res.data);\n      //\n      //       for(var i=0;i<res.data.data.list.length;i++){\n      //         if(res.data.data.list[i].relationships.length>0){\n      //           for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n      //             var newValue={\n      //               username:res.data.data.list[i].username,\n      //               userId:res.data.data.list[i].userId,\n      //               type:res.data.data.list[i].type,\n      //               姓名:res.data.data.list[i].username,\n      //               手机:res.data.data.list[i].phonenum,\n      //               企业:res.data.data.list[i].relationships[j].enterpriseName,\n      //               角色:res.data.data.list[i].relationships[j].position\n      //             }\n      //             this.tableData.push(newValue)\n      //           }\n      //         }\n      //         else{\n      //           var newValue={\n      //             username:res.data.data.list[i].username,\n      //             userId:res.data.data.list[i].userId,\n      //             type:res.data.data.list[i].type,\n      //             姓名:res.data.data.list[i].username,\n      //             手机:res.data.data.list[i].phonenum,\n      //             企业:'个人种植户'\n      //           }\n      //           this.tableData.push(newValue)}\n      //       }\n      //\n      //     })\n      //     .catch((error) =>{\n      //       console.log(\"error\");\n      //     })\n      // },\n      selsChange(sels) {\n        //被选中的行组成数组\n        this.sels = sels;\n      },\n      delAll() {\n        // this.delVisible = true;//显示删除弹框\n        var that=this;\n        const length = this.sels.length;\n        var Sel=this.sels\n        this.$confirm('此操作将永久删除该文件及其子文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          for (var i = 0; i < length; i++) {\n            axios.get('http://120.79.185.173:8080/agriculture/backend/user/userDel.do?userId='+Sel[i].userId)\n              .then((res) => {\n                //刷新数据\n                if(Cookies.get('limit')==='1'){\n                  //产业园权限\n                  var limitNum = 0;\n                  this.tableData=[]\n                  axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                    console.log(res.data);\n                    for(var i=0;i<res.data.data.list.length;i++){\n                      // console.log(1111)\n                      if(res.data.data.list[i].relationships.length>0){\n                        // console.log(2222)\n                        for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                          // console.log(3333)\n                          // console.log(res.data.data.list[i].relationships[j].enterpriseName)\n                          if (limitCheckout(res.data.data.list[i].relationships[j].enterpriseName)) {\n                            var newValue = {\n                              姓名: res.data.data.list[i].username,\n                              手机: res.data.data.list[i].phonenum,\n                              企业: res.data.data.list[i].relationships[j].enterpriseName,\n                              角色: res.data.data.list[i].relationships[j].position,\n                              userId:res.data.data.list[i].userId\n                            }\n                            console.log(newValue)\n                            this.tableData.push(newValue)\n                          }\n                        }\n                      }\n                    }\n                  }).catch(() => {\n                    console.log(\"error\");\n                  });\n                }else{\n                  var Table=this.tableData;\n                  axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                    console.log(res.data);\n                    for(var i=0;i<res.data.data.list.length;i++){\n                      if(res.data.data.list[i].relationships.length>0){\n                        for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                          var newValue={\n                            姓名:res.data.data.list[i].username,\n                            手机:res.data.data.list[i].phonenum,\n                            企业:res.data.data.list[i].relationships[j].enterpriseName,\n                            角色:res.data.data.list[i].relationships[j].position,\n                            userId:res.data.data.list[i].userId\n                          }\n                          this.tableData.push(newValue)\n                        }\n                      } else{\n                        var newValue={\n                          姓名:res.data.data.list[i].username,\n                          手机:res.data.data.list[i].phonenum,\n                          企业:'个人种植户',\n                          userId:res.data.data.list[i].userId\n                        }\n                        this.tableData.push(newValue)\n                      }\n                    }\n                  }).catch(() => {\n                    console.log(\"error\");\n                  });\n                }\n                this.$message({\n                  type: 'success',\n                  message: '删除成功!'\n                });\n              })\n              .catch((error) =>{\n                this.$message({\n                  type: 'warning',\n                  message: '删除失败!需要管理员权限'\n                });\n                console.log(\"error\");\n              })\n          }\n        })\n        this.dialogVisible = false;\n      },\n      setDisabled(){\n        if(this.form.type===3)\n            this.notType=false;\n        else{\n          this.notType=true;\n          this.form.company='';\n          this.form.role=''\n        }\n      },\n      deleteFileOrDirectory() {\n        var ids= this.sels.map(item => item.id).join()//获取所有选中行的id组成的字符串，以逗号分隔\n        // console.log(this.sels);\n        // console.log(ids);\n        this.$confirm('此操作将永久删除该文件及其子文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          console.log(\"删除成功\")\n        })\n      },\n      /**渲染到列表中**/\n      renderAddRow() {\n        var md5 = crypto.createHash(\"md5\");\n        md5.update(this.form.password)\n        const PSW=md5.digest('hex')\n        var param={\n          username:this.form.username,\n          phonenum:this.form.phonenum,\n          password:PSW,\n          type:this.form.type,\n          enterprise:this.form.company,\n          position:this.form.role\n        }\n        // console.log(param)\n\n        axios.post('http://120.79.185.173:8080/agriculture/portal/user/apply.do',param)\n          .then((res) => {\n            console.log(res.data.data.userId);\n            var param={\n              userId:res.data.data.userId,\n              enterpriseId:this.form.company,\n              position:this.form.role\n            }\n            if(this.form.type===3){\n              axios.post('http://120.79.185.173:8080/agriculture/backend/enterprise/enterpriseJoin.do',param)\n                .then((res) => {\n                  console.log(res.data);\n                  this.$message({\n                    type: 'success',\n                    message:'已申请加入企业'\n                  });\n                })\n                .catch((error) =>{\n                  this.$message({\n                    type: 'warning',\n                    message:'加入企业失败,需要管理员权限'\n                  });\n                  console.log(\"error\");\n                })\n            }\n            //刷新\n            if(Cookies.get('limit')==='1'){\n              //产业园权限\n              var limitNum = 0;\n              this.tableData=[]\n              axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                console.log(res.data);\n                for(var i=0;i<res.data.data.list.length;i++){\n                  // console.log(1111)\n                  if(res.data.data.list[i].relationships.length>0){\n                    // console.log(2222)\n                    for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                      // console.log(3333)\n                      // console.log(res.data.data.list[i].relationships[j].enterpriseName)\n                      if (limitCheckout(res.data.data.list[i].relationships[j].enterpriseName)) {\n                        var newValue = {\n                          姓名: res.data.data.list[i].username,\n                          手机: res.data.data.list[i].phonenum,\n                          企业: res.data.data.list[i].relationships[j].enterpriseName,\n                          角色: res.data.data.list[i].relationships[j].position,\n                          userId:res.data.data.list[i].userId\n                        }\n                        console.log(newValue)\n                        this.tableData.push(newValue)\n                      }\n                    }\n                  }\n                }\n              }).catch(() => {\n                console.log(\"error\");\n              });\n            }else{\n              var Table=this.tableData;\n              axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                console.log(res.data);\n                for(var i=0;i<res.data.data.list.length;i++){\n                  if(res.data.data.list[i].relationships.length>0){\n                    for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                      var newValue={\n                        姓名:res.data.data.list[i].username,\n                        手机:res.data.data.list[i].phonenum,\n                        企业:res.data.data.list[i].relationships[j].enterpriseName,\n                        角色:res.data.data.list[i].relationships[j].position,\n                        userId:res.data.data.list[i].userId\n                      }\n                      this.tableData.push(newValue)\n                    }\n                  } else{\n                    var newValue={\n                      姓名:res.data.data.list[i].username,\n                      手机:res.data.data.list[i].phonenum,\n                      企业:'个人种植户',\n                      userId:res.data.data.list[i].userId\n                    }\n                    this.tableData.push(newValue)\n                  }\n                }\n              }).catch(() => {\n                console.log(\"error\");\n              });\n            }\n            this.$message({\n\n              type: 'success',\n              message:'添加成功'\n            });\n          })\n          .catch((error) =>{\n            this.$message({\n              type: 'warning',\n              message:'添加失败'\n            });\n            console.log(\"error\");\n          })\n//刷新列表\n\n        this.dialogVisible = false;\n      },\n      deleteAlert(index,rows){\n        this.$confirm('此操作将永久删除该帐户, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true\n        }).then(()=>{\n          // console.log(index);\n          // console.log(rows[index].userId)\n          // backend/user/userDel.do\n          axios.defaults.withCredentials = true;\n          axios.get('http://120.79.185.173:8080/agriculture/backend/user/userDel.do?userId='+rows[index].userId)\n            .then((res) => {\n              // console.log(res.data);\n              if(res.data.status===0){\n                //刷新\n                if(Cookies.get('limit')==='1'){\n                  //产业园权限\n                  var limitNum = 0;\n                  this.tableData=[]\n                  axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                    console.log(res.data);\n                    for(var i=0;i<res.data.data.list.length;i++){\n                      // console.log(1111)\n                      if(res.data.data.list[i].relationships.length>0){\n                        // console.log(2222)\n                        for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                          // console.log(3333)\n                          // console.log(res.data.data.list[i].relationships[j].enterpriseName)\n                          if (limitCheckout(res.data.data.list[i].relationships[j].enterpriseName)) {\n                            var newValue = {\n                              姓名: res.data.data.list[i].username,\n                              手机: res.data.data.list[i].phonenum,\n                              企业: res.data.data.list[i].relationships[j].enterpriseName,\n                              角色: res.data.data.list[i].relationships[j].position,\n                              userId:res.data.data.list[i].userId\n                            }\n                            console.log(newValue)\n                            this.tableData.push(newValue)\n                          }\n                        }\n                      }\n                    }\n                  }).catch(() => {\n                    console.log(\"error\");\n                  });\n                }else{\n                  var Table=this.tableData;\n                  axios.post('http://120.79.185.173:8080/agriculture/backend/user/usersGet.do',{pageSize:1000}).then(res => {\n                    console.log(res.data);\n                    for(var i=0;i<res.data.data.list.length;i++){\n                      if(res.data.data.list[i].relationships.length>0){\n                        for(var j=0;j<res.data.data.list[i].relationships.length;j++){\n                          var newValue={\n                            姓名:res.data.data.list[i].username,\n                            手机:res.data.data.list[i].phonenum,\n                            企业:res.data.data.list[i].relationships[j].enterpriseName,\n                            角色:res.data.data.list[i].relationships[j].position,\n                            userId:res.data.data.list[i].userId\n                          }\n                          this.tableData.push(newValue)\n                        }\n                      } else{\n                        var newValue={\n                          姓名:res.data.data.list[i].username,\n                          手机:res.data.data.list[i].phonenum,\n                          企业:'个人种植户',\n                          userId:res.data.data.list[i].userId\n                        }\n                        this.tableData.push(newValue)\n                      }\n                    }\n                  }).catch(() => {\n                    console.log(\"error\");\n                  });\n                }\n                this.dialogVisible = false;\n                this.$message({\n                  type: 'success',\n                  message: '删除成功!'\n                });\n              }\n              else{\n                this.$message({\n                  type: 'warning',\n                  message: '删除失败!需要管理员权限'\n                });\n              }\n            })\n            .catch((error) =>{\n              this.$message({\n                type: 'warning',\n                message: '删除失败!需要管理员权限'\n              });\n              console.log(\"error\");\n            })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      },\n      deleteRow(index, rows) {\n        rows.splice(index, 1);\n      },\n      handleFilePreview(f) {\n        this.handleFileChange(f)\n      },\n      handleFileChange(f, fileList) {\n        this.readerData(f.raw)\n      },\n      readerData(file) {\n        const reader = new FileReader()\n        reader.onload = e => {\n          let binary = ''\n          const data = e.target.result\n          const bytes = new Uint8Array(data)\n          const length = bytes.byteLength\n          for (let i = 0; i < length; i++) {\n            binary += String.fromCharCode(bytes[i])\n          }\n          const workbook = XLSX.read(binary, { type: 'binary' })\n          const firstSheetName = workbook.SheetNames[0]\n          const worksheet = workbook.Sheets[firstSheetName]\n          const header = this.getHeaderRow(worksheet)\n          const results = XLSX.utils.sheet_to_json(worksheet)\n          //console.log(results)\n          // const fixedData = this.fixdata(data)\n          // const workbook = XLSX.read(btoa(fixedData), { type: 'base64' })\n\n          this.generateDate({ header, results })\n        }\n        reader.readAsArrayBuffer(file)\n      },\n      generateDate({ header, results }) {\n        this.tableHeader = header\n        this.tableData = results\n      },\n      fixdata(data) {\n        let o = ''\n        let l = 0\n        const w = 10240\n        for (; l < data.byteLength / w; ++l) o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)))\n        o += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)))\n        return o\n      },\n      getHeaderRow(sheet) {\n        const headers = []\n        const range = XLSX.utils.decode_range(sheet['!ref'])\n        let C\n        const R = range.s.r /* start in the first row */\n        for (C = range.s.c; C <= range.e.c; ++C) { /* walk every column in the range */\n          var cell = sheet[XLSX.utils.encode_cell({ c: C, r: R })] /* find the cell in the first row */\n          var hdr = 'UNKNOWN ' + C // <-- replace with your desired default\n          if (cell && cell.t) hdr = XLSX.utils.format_cell(cell)\n          headers.push(hdr)\n        }\n        return headers\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/person/userList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"inline\",attrs:{\"action\":\"\",\"multiple\":false,\"accept\":\".xlsx, .xls\",\"on-change\":_vm.handleFileChange,\"on-preview\":_vm.handleFilePreview,\"auto-upload\":false}},[_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\"批量添加\")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"header-cell-style\":{background:'#1ca291',color:'#ffffff'},\"border\":\"\",\"highlight-current-row\":\"\"},on:{\"selection-change\":_vm.selsChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_vm._l((_vm.tableHeader),function(item){return _c('el-table-column',{key:item.id,attrs:{\"prop\":item,\"label\":item}})}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.deleteAlert(scope.$index, _vm.tableData)}}},[_vm._v(\"\\n          移除\\n        \")])]}}])})],2),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"50px\"}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"width\":\"230px\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{staticStyle:{\"width\":\"230px\"},attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"phonenum\"}},[_c('el-input',{staticStyle:{\"width\":\"230px\"},model:{value:(_vm.form.phonenum),callback:function ($$v) {_vm.$set(_vm.form, \"phonenum\", $$v)},expression:\"form.phonenum\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择标签\"},on:{\"change\":_vm.setDisabled},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.type,attrs:{\"label\":item.label,\"value\":item.type}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"企业\"}},[_c('el-select',{attrs:{\"disabled\":_vm.notType,\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择标签\"},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}},_vm._l((_vm.companyList),function(item){return _c('el-option',{key:item.enterpriseId,attrs:{\"label\":item.enterpriseName,\"value\":item.enterpriseId}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\" 角色\"}},[_c('el-select',{attrs:{\"disabled\":_vm.notType,\"clearable\":\"\",\"filterable\":\"\",\"allow-create\":\"\",\"placeholder\":\"请选择标签\"},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}},_vm._l((_vm.positionList),function(item){return _c('el-option',{key:item.positionId,attrs:{\"label\":item.label,\"value\":item.positionId}})}),1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.renderAddRow}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e2f6005\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/person/userList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e2f6005\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e2f6005\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/person/userList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}